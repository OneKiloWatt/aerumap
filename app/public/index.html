<!DOCTYPE html>
<html lang="ja">
  <head>
    <meta charset="utf-8" />
    <link rel="icon" href="%PUBLIC_URL%/favicon.ico" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="theme-color" content="#8FBC8F" />
    <meta name="robots" content="index, follow" />

    <title>あえるまっぷ | 友達とリアルタイムで位置を共有できる地図アプリ</title>

    <meta
      name="description"
      content="「今どこ？」のやり取りを省いて、待ち合わせをもっとスムーズに。あえるまっぷは、友達・家族・恋人とリアルタイムで位置を共有できるインストール不要のWebアプリです。"
    />
    <meta
      name="keywords"
      content="あえるまっぷ, 位置共有, 地図アプリ, リアルタイム, 待ち合わせ, GPS, ブラウザアプリ"
    />
    <link rel="canonical" href="https://onekilowatt.github.io/aerumap/" />

    <!-- OGP（SNS対応） -->
    <meta property="og:title" content="あえるまっぷ" />
    <meta property="og:description" content="「今どこ？」のやり取りを省ける、インストール不要のリアルタイム位置共有アプリ。" />
    <meta property="og:image" content="%PUBLIC_URL%/ogp.png" />
    <meta property="og:url" content="https://onekilowatt.github.io/aerumap/" />
    <meta property="og:type" content="website" />
    <meta property="og:site_name" content="あえるまっぷ" />

    <link rel="apple-touch-icon" href="%PUBLIC_URL%/logo192.png" />
    <link rel="manifest" href="%PUBLIC_URL%/manifest.json" />

    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" integrity="sha256-p4NxAoJBhIIN+hmNHrzRCf9tD/miZyoHS5obTRR9BMY=" crossorigin="" />

    <!-- GitHub Pages SPA hack to handle 404 redirects -->
    <script type="text/javascript">
      // Single Page Apps for GitHub Pages
      // https://github.com/rafgraph/spa-github-pages
      // This script checks to see if a redirect is present in the query string,
      // converts it back into the correct url and adds it to the history
      (function(l) {
        if (l.search[1] === '/' ) {
          var decoded = l.search.slice(1).split('&').map(function(s) { 
            return s.replace(/~and~/g, '&')
          }).join('?');
          window.history.replaceState(null, null,
            l.pathname.slice(0, -1) + decoded + l.hash
          );
        }
      }(window.location))
    </script>

    <!-- 構造化データ（SEO対策） -->
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "WebApplication",
      "name": "あえるまっぷ",
      "applicationCategory": "UtilitiesApplication",
      "description": "「今どこ？」のやり取りを省き、友人・恋人・家族との待ち合わせを円滑にするリアルタイム位置共有Webアプリ",
      "url": "https://onekilowatt.github.io/aerumap/",
      "operatingSystem": "All",
      "browserRequirements": "Requires JavaScript. Requires HTML5.",
      "permissions": "位置情報の取得",
      "privacy": "https://onekilowatt.github.io/aerumap/privacy",
      "termsOfService": "https://onekilowatt.github.io/aerumap/terms",
      "applicationSubCategory": "LocationSharingApp",
      "featureList": [
        "リアルタイムの位置情報共有（GPS）",
        "現在地の共有リンクをLINEやSMSで送信",
        "待ち合わせに強い位置共有アプリ（インストール不要）",
        "友達・家族・恋人と現在地をかんたん共有",
        "iPhone/Android対応・匿名ニックネームで参加",
        "URL招待で登録不要・すぐ参加",
        "地図上でメンバーの現在地を同時表示",
        "共有の一時停止・時間指定が可能",
        "プライバシー重視：HTTPS通信・Firebase認証",
        "退出・一定時間で位置データを自動削除"
      ],
      "securityPolicy": {
        "@type": "CreativeWork",
        "name": "プライバシーポリシー",
        "url": "https://onekilowatt.github.io/aerumap/privacy"
      }
    }
    </script>

    <!-- 静的CSS（JavaScript読み込み前のスタイル） -->
    <style>
      /* 共通リセット */
      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }

      body {
        font-family: 'Helvetica Neue', Arial, 'Hiragino Kaku Gothic ProN', 'Hiragino Sans', Meiryo, sans-serif;
        line-height: 1.6;
        color: #333;
        background-color: #F5F2EB;
      }

      .container {
        max-width: 1200px;
        margin: 0 auto;
        padding: 0 20px;
      }

      /* ヒーローセクション */
      .hero {
        background: linear-gradient(135deg, #8FBC8F 0%, #6B8E6B 100%);
        color: white;
        padding: 120px 0 80px;
        margin-top: 50px;
        position: relative;
        overflow: hidden;
      }

      .hero-content {
        display: grid;
        grid-template-columns: 1fr 300px;
        gap: 60px;
        align-items: center;
        position: relative;
        z-index: 1;
        max-width: 1200px;
        margin: 0 auto;
        padding: 0 20px;
      }

      .hero-text h1 {
        font-size: 48px;
        font-weight: bold;
        margin-bottom: 20px;
        line-height: 1.2;
      }

      .hero-text p {
        font-size: 20px;
        margin-bottom: 40px;
        opacity: 0.9;
      }

      .cta-button {
        background: linear-gradient(45deg, #FF6B6B, #FF8E8E);
        color: white;
        padding: 18px 40px;
        border: none;
        border-radius: 50px;
        font-size: 18px;
        font-weight: bold;
        cursor: pointer;
        transition: transform 0.3s ease, box-shadow 0.3s ease;
        text-decoration: none;
        display: inline-block;
        box-shadow: 0 4px 15px rgba(255, 107, 107, 0.3);
      }

      .cta-button:hover {
        transform: translateY(-2px);
        box-shadow: 0 8px 25px rgba(255, 107, 107, 0.4);
      }

      /* ストーリーセクション */
      .story {
        padding: 80px 20px;
        background: white;
        text-align: center;
      }

      .problem h2 {
        font-size: 32px;
        color: #8B4513;
        margin-bottom: 20px;
      }

      .problem p {
        font-size: 18px;
        color: #666;
        line-height: 1.8;
        margin-bottom: 60px;
      }

      .solution {
        background: linear-gradient(135deg, #F0F8F0, #E8F5E8);
        padding: 40px;
        border-radius: 20px;
        border-left: 5px solid #8FBC8F;
        max-width: 800px;
        margin: 0 auto;
      }

      .solution h3 {
        font-size: 28px;
        color: #2F4F2F;
        margin-bottom: 20px;
      }

      .solution p {
        font-size: 18px;
        color: #333;
        line-height: 1.8;
      }

      /* 使い方セクション */
      .how-to-use {
        padding: 80px 20px;
        background: #F5F2EB;
        text-align: center;
      }

      .section-title {
        font-size: 36px;
        color: #8B4513;
        margin-bottom: 60px;
      }

      .steps {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
        gap: 40px;
        max-width: 1000px;
        margin: 0 auto;
      }

      .step {
        background: white;
        padding: 40px 30px;
        border-radius: 20px;
        box-shadow: 0 5px 20px rgba(0, 0, 0, 0.1);
        transition: transform 0.3s ease;
      }

      .step:hover {
        transform: translateY(-5px);
      }

      .step-number {
        width: 45px;
        height: 45px;
        background: linear-gradient(45deg, #8FBC8F, #6B8E6B);
        color: white;
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 20px;
        font-weight: bold;
        margin: 0 auto 20px;
      }

      .step h3 {
        font-size: 24px;
        color: #333;
        margin-bottom: 15px;
      }

      .step p {
        font-size: 16px;
        color: #666;
        line-height: 1.6;
      }

      /* 最終CTA */
      .final-cta {
        padding: 80px 20px;
        background: linear-gradient(135deg, #8FBC8F, #6B8E6B);
        color: white;
        text-align: center;
      }

      .final-cta h2 {
        font-size: 36px;
        margin-bottom: 20px;
      }

      .final-cta p {
        font-size: 18px;
        margin-bottom: 40px;
        opacity: 0.9;
      }

      /* JavaScript有効時は静的コンテンツを隠す */
      .js-enabled #static-content {
        display: none !important;
      }

      @media (max-width: 768px) {
        .hero-content {
          grid-template-columns: 1fr;
          text-align: center;
          gap: 40px;
        }

        .hero-text h1 {
          font-size: 36px;
        }

        .hero-text p {
          font-size: 18px;
        }
      }
    </style>
  </head>

  <body>
    <noscript>
      <p style="text-align: center; padding: 20px; background: #ff6b6b; color: white; margin: 0;">
        このアプリはJavaScriptが必要です。ブラウザの設定でJavaScriptを有効にしてください。
      </p>
    </noscript>

    <!-- JavaScript無効時のための静的コンテンツ -->
    <div id="static-content">
      <!-- ヒーローセクション -->
      <section class="hero">
        <div class="container">
          <div class="hero-content">
            <div class="hero-text">
              <h1>「今どこ？」のやり取り、<br />もうおしまい</h1>
              <p>スマホ一つで、友達の居場所がリアルタイムでわかっちゃう。</p>
              <noscript>
                <p style="background: rgba(255,255,255,0.2); padding: 15px; border-radius: 10px; margin-top: 20px;">
                  JavaScriptを有効にすると、ルーム作成機能をご利用いただけます。
                </p>
              </noscript>
            </div>
          </div>
        </div>
      </section>

      <!-- ストーリー説明 -->
      <section class="story">
        <div class="container">
          <div class="story-content">
            <div class="problem">
              <h2>待ち合わせで、こんな経験ありませんか？</h2>
              <p>
                「今どこ？」「もうすぐ着く？」「どの出口にいる？」<br />
                友達との待ち合わせで、何度もLINEでやり取り...。<br />
                お互いイライラして、楽しい時間が台無しになっちゃうこと、ありますよね。
              </p>
            </div>
            <div class="solution">
              <h3>あえるまっぷなら、そんな煩わしさとサヨナラ</h3>
              <p>
                リアルタイムで位置情報を共有できるから、<br />
                「今どこ？」の連絡は一切不要。<br />
                待ち合わせがスムーズになって、みんなハッピー！
              </p>
            </div>
          </div>
        </div>
      </section>

      <!-- 使い方セクション -->
      <section class="how-to-use">
        <div class="container">
          <h2 class="section-title">使い方はカンタン3ステップ</h2>
          <div class="steps">
            <div class="step">
              <div class="step-number">1</div>
              <h3>ルーム作成</h3>
              <p>「ルームを作成する」ボタンをタップして、待ち合わせ用のルームを作成します。</p>
            </div>
            <div class="step">
              <div class="step-number">2</div>
              <h3>友達を招待</h3>
              <p>生成されたURLをLINEやメールで友達に送信。友達はURLをタップするだけで参加完了！</p>
            </div>
            <div class="step">
              <div class="step-number">3</div>
              <h3>リアルタイム共有</h3>
              <p>地図上でお互いの位置がリアルタイムで表示。もう「今どこ？」の連絡は不要です。</p>
            </div>
          </div>
        </div>
      </section>

      <!-- 最終CTA -->
      <section class="final-cta">
        <div class="container">
          <h2>今すぐ始めよう</h2>
          <p>
            無料で使えて、アプリのインストールも不要。<br />
            ブラウザがあれば、今すぐ始められます。
          </p>
          <noscript>
            <p style="background: rgba(255,255,255,0.2); padding: 15px; border-radius: 10px; margin-top: 20px;">
              ルーム作成にはJavaScriptが必要です。ブラウザの設定でJavaScriptを有効にしてください。
            </p>
          </noscript>
        </div>
      </section>
    </div>

    <!-- React アプリのマウントポイント -->
    <div id="root"></div>

    <!-- JavaScript読み込み後にbodyにjs-enabledクラスを追加 -->
    <script>
      document.body.classList.add('js-enabled');
    </script>
  </body>
</html>
