# あいまっぷ 要件定義書（Ver. 0.1）

## 1. 概要

| 項目           | 内容 |
|----------------|------|
| **プロダクト名** | あいまっぷ（aimap） |
| **目的**       | 「今どこ？」のやり取りを省き、友人・恋人・家族との待ち合わせを円滑にするリアルタイム位置共有Webアプリ |
| **対象ユーザー** | カジュアルな待ち合わせをする一般ユーザー（Z世代〜30代前半中心） |
| **提供形態**   | インストール不要のWebアプリ（スマホブラウザ対応） |

---

## 2. 使用技術スタック

| 区分             | 技術                            | 用途                                   |
|------------------|----------------------------------|----------------------------------------|
| フロントエンド   | React + React-Leaflet           | UI、地図描画（OpenStreetMap）         |
| ホスティング     | GitHub Pages                    | React SPAのホスティング               |
| バックエンド     | Firebase（Auth / Firestore）    | 認証・リアルタイムDB・ルーム管理     |
| 認証             | 匿名認証（Firebase Auth）       | URL参加＋匿名ユーザー識別             |
| 通信方式         | FirestoreのonSnapshot()         | 位置情報のリアルタイム監視            |

---

## 3. 機能一覧（MVPスコープ）

| カテゴリ     | 機能名               | 概要 |
|--------------|----------------------|------|
| ルーム        | ルーム作成            | 一意なIDでルームを作成し、参加リンクを生成 |
| 招待          | ルーム参加URL発行     | 他人をURLで招待（LINE等で送信） |
| 位置共有      | 自分の位置を送信      | 一定間隔でFirestoreへ現在地をアップロード |
| 位置共有      | 他者の位置を表示      | ルーム内参加者の位置をマップ上にリアルタイム表示 |
| UI            | 地図描画             | React-Leafletで現在地を中心にマーカー表示（自動追従なし） |
| セキュリティ  | アクセス制御          | 認証済ユーザーのみFirestore書き込み可（匿名） |

---

## 4. 非機能要件

| 項目             | 内容 |
|------------------|------|
| 対応端末         | スマホ中心（iOS/Androidのブラウザ）＋PC |
| 更新頻度         | 数秒に1回のポーリング or 位置変化時のみアップデート（検討中） |
| UI要件           | 地図は自由にパン／ズーム可、現在地自動追従なし |
| セキュリティ     | HTTPS必須、Firestoreのルールで認可制御 |
| 利用人数想定     | 1ルームあたり最大10人程度 |
| タイル提供元     | OpenStreetMap（Leaflet標準タイル） |

---

## 5. 備考（今後の拡張に備えた設計）

- ルームは一意なURLにより識別される  
- 位置情報はFirestoreでリアルタイム同期  
- 匿名認証により個人識別不要だが一意なUIDは保持  
- サーバーレス構成によりインフラ管理コストを抑える

---


