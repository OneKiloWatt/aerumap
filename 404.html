<!DOCTYPE html>
<html lang="ja">
  <head>
    <meta charset="utf-8" />
    <link rel="icon" href="https://onekilowatt.github.io/aerumap/favicon.ico" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="theme-color" content="#8FBC8F" />
    <meta name="robots" content="index, follow" />

    <title>ã‚ãˆã‚‹ã¾ã£ã· | å‹é”ã¨ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ã§ä½ç½®ã‚’å…±æœ‰ã§ãã‚‹åœ°å›³ã‚¢ãƒ—ãƒª</title>

    <meta
      name="description"
      content="ã€Œä»Šã©ã“ï¼Ÿã€ã®ã‚„ã‚Šå–ã‚Šã‚’çœã„ã¦ã€å¾…ã¡åˆã‚ã›ã‚’ã‚‚ã£ã¨ã‚¹ãƒ ãƒ¼ã‚ºã«ã€‚ã‚ãˆã‚‹ã¾ã£ã·ã¯ã€å‹é”ãƒ»å®¶æ—ãƒ»æ‹äººã¨ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ã§ä½ç½®ã‚’å…±æœ‰ã§ãã‚‹ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ä¸è¦ã®Webã‚¢ãƒ—ãƒªã§ã™ã€‚"
    />
    <meta
      name="keywords"
      content="ã‚ãˆã‚‹ã¾ã£ã·, ä½ç½®å…±æœ‰, åœ°å›³ã‚¢ãƒ—ãƒª, ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ , å¾…ã¡åˆã‚ã›, GPS, ãƒ–ãƒ©ã‚¦ã‚¶ã‚¢ãƒ—ãƒª"
    />
    <link rel="canonical" href="https://onekilowatt.github.io/aerumap/" />

    <!-- OGPï¼ˆSNSå¯¾å¿œï¼‰ -->
    <meta property="og:title" content="ã‚ãˆã‚‹ã¾ã£ã·" />
    <meta property="og:description" content="ã€Œä»Šã©ã“ï¼Ÿã€ã®ã‚„ã‚Šå–ã‚Šã‚’çœã‘ã‚‹ã€ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ä¸è¦ã®ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ä½ç½®å…±æœ‰ã‚¢ãƒ—ãƒªã€‚" />
    <meta property="og:image" content="https://onekilowatt.github.io/aerumap/ogp.png" />
    <meta property="og:url" content="https://onekilowatt.github.io/aerumap/" />
    <meta property="og:type" content="website" />
    <meta property="og:site_name" content="ã‚ãˆã‚‹ã¾ã£ã·" />

    <link rel="apple-touch-icon" href="https://onekilowatt.github.io/aerumap/logo192.png" />
    <link rel="manifest" href="https://onekilowatt.github.io/aerumap/manifest.json" />

    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" integrity="sha256-p4NxAoJBhIIN+hmNHrzRCf9tD/miZyoHS5obTRR9BMY=" crossorigin="" />

    <style>
      /* LoadingComponentã¨åŒã˜ã‚¹ã‚¿ã‚¤ãƒ« */
      body {
        margin: 0;
        padding: 0;
        font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
      }

      .loading-container {
        min-height: 100vh;
        background: #F5F2EB;
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        padding: 20px;
      }

      .loading-image-wrapper {
        margin-bottom: 30px;
      }

      .loading-image {
        width: 120px;
        height: 180px;
        object-fit: contain;
      }

      .loading-title {
        font-size: 24px;
        color: #8B4513;
        margin-bottom: 15px;
        font-weight: bold;
      }

      .loading-message {
        font-size: 16px;
        color: #666;
        text-align: center;
        line-height: 1.6;
        max-width: 300px;
        background: white;
        padding: 20px;
        border-radius: 12px;
        border: 1px solid #ddd;
        box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
      }
    </style>

    <script type="text/javascript">
      // GitHub Pages SPA redirect
      (function() {
        const l = window.location;
        
        // URLã‹ã‚‰ãƒ«ãƒ¼ãƒ IDã‚’å–å¾—ï¼ˆãƒ¬ã‚¬ã‚·ãƒ¼å¯¾å¿œï¼‰
        const urlParams = new URLSearchParams(l.search);
        const roomId = urlParams.get('id');
        
        if (roomId) {
          // ãƒ¬ã‚¬ã‚·ãƒ¼ãªroom.html?id=xxxå½¢å¼ã®å ´åˆ
          setTimeout(() => {
            window.location.replace(`/aerumap/room/${roomId}`);
          }, 300);
        } else {
          // é€šå¸¸ã®SPAãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°å¯¾å¿œ
          const pathSegmentsToKeep = 1; // /aerumap/ ã®éƒ¨åˆ†ã‚’ä¿æŒ
          
          // ç¾åœ¨ã®ãƒ‘ã‚¹ã‚’ /?/ãƒ‘ã‚¹ ã®å½¢å¼ã§index.htmlã«ãƒªãƒ€ã‚¤ãƒ¬ã‚¯ãƒˆ
          const redirectPath = l.pathname.split('/').slice(pathSegmentsToKeep + 1).join('/');
          
          if (redirectPath) {
            // ãƒ‘ã‚¹ãŒã‚ã‚‹å ´åˆï¼ˆ/no-location, /terms ãªã©ï¼‰
            const newUrl = l.protocol + '//' + l.hostname + (l.port ? ':' + l.port : '') +
              '/aerumap/' + '?/' + redirectPath +
              (l.search ? '&' + l.search.slice(1).replace(/&/g, '~and~') : '') +
              l.hash;
            
            setTimeout(() => {
              window.location.replace(newUrl);
            }, 100);
          } else {
            // ãƒ‘ã‚¹ãŒãªã„å ´åˆã¯ãƒˆãƒƒãƒ—ãƒšãƒ¼ã‚¸ã¸
            setTimeout(() => {
              window.location.replace('/aerumap/');
            }, 100);
          }
        }
      })();

      // ãƒ‰ãƒƒãƒˆã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³: . â†’ .. â†’ ... â†’ ç¹°ã‚Šè¿”ã—
      let dotCount = 1;
      function animateDots() {
        const titleElement = document.getElementById('loading-title');
        if (titleElement) {
          const dots = '.'.repeat(dotCount);
          titleElement.textContent = `Now Loading${dots}`;
          dotCount = dotCount >= 3 ? 1 : dotCount + 1;
        }
      }

      // ãƒšãƒ¼ã‚¸èª­ã¿è¾¼ã¿å¾Œã«ãƒ‰ãƒƒãƒˆã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³é–‹å§‹
      window.addEventListener('DOMContentLoaded', () => {
        setInterval(animateDots, 500);
      });
    </script>
  </head>

  <body>
    <noscript>JavaScriptã‚’æœ‰åŠ¹ã«ã—ã¦ãã ã•ã„ã€‚</noscript>
    
    <div class="loading-container">
      <!-- ãƒ¡ã‚¤ãƒ³ç”»åƒ -->
      <div class="loading-image-wrapper">
        <img 
          src="https://onekilowatt.github.io/aerumap/images/nowloading.png" 
          alt="èª­ã¿è¾¼ã¿ä¸­" 
          class="loading-image"
        />
      </div>

      <!-- Now Loading... -->
      <h1 class="loading-title" id="loading-title">
        Now Loading.
      </h1>

      <!-- ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ -->
      <p class="loading-message">
        ã¡ã‚‡ã£ã¨ã¾ã£ã¦ã¦ã­ã£ï¼ãŠã¸ã‚„ã®ã‹ã–ã‚Šã€ãŒã‚“ã°ã£ã¦ã‚‹ã¨ã“ã‚ã€œğŸ€âœ¨
      </p>
    </div>
  </body>
</html>
